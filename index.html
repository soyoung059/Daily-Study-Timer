<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Daily Timer</title>
  <style>
    :root {
      --bg-color: #f3f6ff;
      --card-color: #ffffff;
      --text-color: #222222;
      --sub-text-color: #666666;
      --btn-color: #5b6cff;
      --btn-text-color: #ffffff;
    }

    .dark-mode {
      --bg-color: #0f172a;
      --card-color: #1e293b;
      --text-color: #f1f5f9;
      --sub-text-color: #cbd5e1;
      --btn-color: #8b5cf6;
      --btn-text-color: #ffffff;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: "Segoe UI", sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      transition: background-color 0.5s, color 0.5s;
    }

    .timer-container {
      background-color: var(--card-color);
      width: 340px;
      padding: 40px 35px;
      border-radius: 25px;
      text-align: center;
      box-shadow: 0 15px 30px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: background-color 0.3s;
    }

    .timer-title {
      margin: 0 0 6px 0;
      font-size: 1.6rem;
    }

    .timer-display {
      font-size: 64px;
      font-weight: bold;
      margin: 0 0 18px 0;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .button-group {
      display: flex;
      justify-content: space-between;
      width: 100%;
      margin-bottom: 15px;
    }

    .button-group button,
    #darkModeBtn {
      flex: 1;
      margin: 0 5px;
      padding: 12px 0;
      border: none;
      border-radius: 12px;
      background-color: var(--btn-color);
      color: var(--btn-text-color);
      cursor: pointer;
      font-size: 16px;
      transition: transform 0.2s;
    }

    .button-group button:hover,
    #darkModeBtn:hover {
      transform: scale(1.05);
    }

    #darkModeBtn {
      width: 100%;
      margin-bottom: 10px;
    }

    .total-time {
      color: var(--sub-text-color);
      font-size: 16px;
      margin-top: 0;
    }

    #statsList {
      display: none;
    }

    /* Î∞òÏùëÌòï */
    @media (max-width: 400px) {
      .timer-display {
        font-size: 48px;
      }
      .timer-title {
        font-size: 1.4rem;
      }
      .button-group button,
      #darkModeBtn {
        font-size: 14px;
        padding: 10px 0;
      }
    }
  </style>
</head>
<body>
  <div class="timer-container">
    <h1 class="timer-title">Daily Timer</h1>
    <div id="timerDisplay" class="timer-display">00:00</div>

    <div class="button-group">
      <button id="startBtn">Start</button>
      <button id="pauseBtn">Pause</button>
      <button id="resetBtn">Reset</button>
    </div>

    <button id="darkModeBtn">üåô Dark Mode</button>
    <div id="totalTimeDisplay" class="total-time">Today's Study Time: 00:00</div>

    <ul id="statsList"></ul>
  </div>

  <script>
    // ----------------------
    // Î≥ÄÏàò Ï¥àÍ∏∞Ìôî
    // ----------------------
    let timerInterval = null;
    let elapsedSeconds = 0;
    let isTimerRunning = false;

    const timerDisplay = document.getElementById("timerDisplay");
    const totalTimeDisplay = document.getElementById("totalTimeDisplay");
    const startButton = document.getElementById("startBtn");
    const pauseButton = document.getElementById("pauseBtn");
    const resetButton = document.getElementById("resetBtn");
    const darkModeButton = document.getElementById("darkModeBtn");

    const statsList = document.getElementById("statsList");

    // ----------------------
    // ÎÇ†Ïßú Î∞è Î°úÏª¨Ïä§ÌÜ†Î¶¨ÏßÄ Îç∞Ïù¥ÌÑ∞ Ï≤òÎ¶¨
    // ----------------------
    function getTodayKey() {
      const today = new Date();
      return today.toISOString().split("T")[0];
    }

    const todayKey = getTodayKey();
    let studyData = JSON.parse(localStorage.getItem("studyData")) || {};
    if (!studyData[todayKey]) studyData[todayKey] = 0;

    // ----------------------
    // ÏãúÍ∞Ñ Ìè¨Îß∑
    // ----------------------
    function formatTime(seconds) {
      const min = String(Math.floor(seconds / 60)).padStart(2, "0");
      const sec = String(seconds % 60).padStart(2, "0");
      return `${min}:${sec}`;
    }

    function updateDisplay() {
      timerDisplay.textContent = formatTime(elapsedSeconds);
      totalTimeDisplay.textContent = `Today's Study Time: ${formatTime(studyData[todayKey])}`;
    }

    // ----------------------
    // ÌÉÄÏù¥Î®∏ ÏóÖÎç∞Ïù¥Ìä∏
    // ----------------------
    function tick() {
      elapsedSeconds++;
      studyData[todayKey]++;
      updateDisplay();
      localStorage.setItem("studyData", JSON.stringify(studyData));
      renderStats();
    }

    // ----------------------
    // Î≤ÑÌäº
    // ----------------------
    startButton.addEventListener("click", () => {
      if (!isTimerRunning) {
        tick();
        timerInterval = setInterval(tick, 1000);
        isTimerRunning = true;
      }
    });

    pauseButton.addEventListener("click", () => {
      clearInterval(timerInterval);
      isTimerRunning = false;
    });

    resetButton.addEventListener("click", () => {
      clearInterval(timerInterval);
      elapsedSeconds = 0;
      isTimerRunning = false;
      timerDisplay.textContent = "00:00";
    });

    darkModeButton.addEventListener("click", () => {
      document.body.classList.toggle("dark-mode");
      darkModeButton.textContent = document.body.classList.contains("dark-mode") ? "Light Mode" : "üåô Dark Mode";
    });

    // ----------------------
    // ÌÜµÍ≥Ñ Î†åÎçîÎßÅ (Ïà®ÍπÄ)
    // ----------------------
    function renderStats() {
      statsList.innerHTML = "";
      for (let date in studyData) {
        const li = document.createElement("li");
        li.textContent = `${date} - ${formatTime(studyData[date])}`;
        statsList.appendChild(li);
      }
    }

    // Ï¥àÍ∏∞ ÌôîÎ©¥ ÌëúÏãú
    updateDisplay();
    renderStats();
  </script>
</body>
</html>
